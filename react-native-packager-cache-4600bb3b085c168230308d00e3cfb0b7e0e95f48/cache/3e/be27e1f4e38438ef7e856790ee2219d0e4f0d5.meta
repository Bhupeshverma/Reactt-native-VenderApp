["8e09b1b6101951644fca57238a634ebf766d273b","307d91ecf8f84053572777b7585ab71cb8e6df9f",["./types","axios"],[114,148],{"version":3,"sources":["/home/ziddi/Desktop/Bhupesh/venders/src/actions/LogoutActions.js"],"names":["Logout","isLoggingOut","type","loggedOut","recievedLoggingOutError","changeproductstatus","changefetchdatastatus","changesavedstatus","dispatch","getState","sessionID","auth","console","log","data","JSON","stringify","undefined","post","then","response","status","catch","error","request"],"mappings":";;;QAgDgBA,M,GAAAA,M;;AA/ChB;;AASA;;;;AAEA,SAASC,YAAT,GAAwB;AACpB,WAAM;AACFC;AADE,KAAN;AAGH;;AAED,SAASC,SAAT,GAAqB;AACjB,WAAM;AACFD;AADE,KAAN;AAGH;;AAED,SAASE,uBAAT,GAAmC;AAC/B,WAAM;AACFF;AADE,KAAN;AAGH;;AAED,SAASG,mBAAT,GAA+B;AAC3B,WAAM;AACFH;AADE,KAAN;AAGH;;AAED,SAASI,qBAAT,GAAiC;AAC7B,WAAM;AACFJ;AADE,KAAN;AAGH;;AAED,SAASK,iBAAT,GAA4B;AAC1B,WAAM;AACJL;AADI,KAAN;AAGD;;AAEM,SAASF,MAAT,GAAkB;;AAErB,WAAO,UAACQ,QAAD,EAAYC,QAAZ,EAAyB;;AAE5BD,iBAASP,cAAT;AAF4B,YAGrBS,SAHqB,GAGRD,WAAWE,IAHH,CAGrBD,SAHqB;;AAI5BE,gBAAQC,GAAR,CAAYH,SAAZ;;AAEA,YAAMI,OAAOC,KAAKC,SAAL,CAAe,EAAC,gBAAaN,SAAd,EAAf,EAA4CO,SAA5C,EAAwD,CAAxD,CAAb;AACAL,gBAAQC,GAAR,CAAYC,IAAZ;;AAGA,eAAO,gBAAMI,IAAN,0DAAmEJ,IAAnE,EACFK,IADE,CACG,UAACC,QAAD,EAAc;AACpBR,oBAAQC,GAAR,CAAYO,SAASC,MAArB;AACA,gBAAGD,SAASC,MAAT,KAAoB,GAAvB,EAA2B;AACvBb,yBAASL,UAAUiB,QAAV,CAAT;AACAZ,yBAASF,uBAAT;AACAE,yBAASH,qBAAT;AACAG,yBAASD,mBAAT;AACH;AAEA,SAVE,EAWFe,KAXE,CAWI,UAACC,KAAD,EAAW;AACd,gBAAIA,MAAMH,QAAV,EAAoB;AAChB,oBAAIG,MAAMH,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;AAC/Bb,6BAASJ,yBAAT;AACH;AACJ,aAJD,MAKK,IAAImB,MAAMC,OAAV,EAAmB;AACpBhB,yBAASJ,yBAAT;AACH,aAFI,MAEE;AACHI,yBAASJ,yBAAT;AACH;AACJ,SAtBE,CAAP;AAwBH,KAlCD;AAoCH","sourcesContent":["\nimport {\nIS_LOGGING_OUT,\n    LOGGED_OUT,\n    LOGGING_OUT_ERROR,\n    CHANGE_FETCHDATA_STATUS,\n    CHANGE_PRODUCT_STATUS,\n    CHANGE_SAVED_DATA_STATUS\n\n} from './types'\nimport axios from 'axios';\n\nfunction isLoggingOut() {\n    return{\n        type : IS_LOGGING_OUT\n    }\n}\n\nfunction loggedOut() {\n    return{\n        type : LOGGED_OUT\n    }\n}\n\nfunction recievedLoggingOutError() {\n    return{\n        type : LOGGING_OUT_ERROR\n    }\n}\n\nfunction changeproductstatus() {\n    return{\n        type: CHANGE_PRODUCT_STATUS\n    }\n}\n\nfunction changefetchdatastatus() {\n    return{\n        type: CHANGE_FETCHDATA_STATUS\n    }\n}\n\nfunction changesavedstatus(){\n  return{\n    type: CHANGE_SAVED_DATA_STATUS\n  }\n}\n\nexport function Logout() {\n\n    return (dispatch , getState) => {\n\n        dispatch(isLoggingOut());\n        const {sessionID} = getState().auth;\n        console.log(sessionID)\n\n        const data = JSON.stringify({\"session\":`${sessionID}`} , undefined , 2);\n        console.log(data)\n\n\n        return axios.post(`http://crm.streetstylestore.com/webservice/logout.php`,data)\n            .then((response) => {\n            console.log(response.status)\n            if(response.status === 200){\n                dispatch(loggedOut(response));\n                dispatch(changefetchdatastatus())\n                dispatch(changeproductstatus())\n                dispatch(changesavedstatus())\n            }\n\n            })\n            .catch((error) => {\n                if (error.response) {\n                    if (error.response.status === 401) {\n                        dispatch(recievedLoggingOutError());\n                    }\n                }\n                else if (error.request) {\n                    dispatch(recievedLoggingOutError());\n                } else {\n                    dispatch(recievedLoggingOutError());\n                }\n            })\n\n    }\n\n}\n"]}]