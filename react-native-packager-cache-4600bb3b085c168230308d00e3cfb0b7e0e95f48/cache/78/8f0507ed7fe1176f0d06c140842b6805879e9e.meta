["5e5200970c5f49652c5dd153a63390a198971a08","b64d83c21879bebfda93d0ac5461917428bfbd86",["../maps/entities.json","../maps/legacy.json","../maps/xml.json","./decode_codepoint.js"],[24,74,119,170],{"version":3,"sources":["/home/ziddi/Desktop/Bhupesh/venders/node_modules/entities/lib/decode.js"],"names":["entityMap","require","legacyMap","xmlMap","decodeCodePoint","decodeXMLStrict","getStrictDecoder","decodeHTMLStrict","map","keys","Object","join","replace","getReplacer","re","RegExp","str","String","decodeHTML","legacy","sort","sorter","i","j","length","replacer","substr","a","b","charAt","parseInt","slice","module","exports","XML","HTML","HTMLStrict"],"mappings":"AAAA,IAAIA,YAAYC,QAAQ,uBAAR,CAAhB;AAAA,IACIC,YAAYD,QAAQ,qBAAR,CADhB;AAAA,IAEIE,SAAYF,QAAQ,kBAAR,CAFhB;AAAA,IAGIG,kBAAkBH,QAAQ,uBAAR,CAHtB;;AAKA,IAAII,kBAAmBC,iBAAiBH,MAAjB,CAAvB;AAAA,IACII,mBAAmBD,iBAAiBN,SAAjB,CADvB;;AAGA,SAASM,gBAAT,CAA0BE,GAA1B,EAA8B;AAC7B,KAAIC,OAAOC,OAAOD,IAAP,CAAYD,GAAZ,EAAiBG,IAAjB,CAAsB,GAAtB,CAAX;AAAA,KACIC,UAAUC,YAAYL,GAAZ,CADd;;AAGAC,SAAQ,0BAAR;;AAEA,KAAIK,KAAK,IAAIC,MAAJ,CAAW,SAASN,IAAT,GAAgB,IAA3B,EAAiC,GAAjC,CAAT;;AAEA,QAAO,UAASO,GAAT,EAAa;AACnB,SAAOC,OAAOD,GAAP,EAAYJ,OAAZ,CAAoBE,EAApB,EAAwBF,OAAxB,CAAP;AACA,EAFD;AAGA;;AAED,IAAIM,aAAc,YAAU;AAC3B,KAAIC,SAAST,OAAOD,IAAP,CAAYP,SAAZ,EACXkB,IADW,CACNC,MADM,CAAb;;AAGA,KAAIZ,OAAOC,OAAOD,IAAP,CAAYT,SAAZ,EACToB,IADS,CACJC,MADI,CAAX;;AAGA,MAAI,IAAIC,IAAI,CAAR,EAAWC,IAAI,CAAnB,EAAsBD,IAAIb,KAAKe,MAA/B,EAAuCF,GAAvC,EAA2C;AAC1C,MAAGH,OAAOI,CAAP,MAAcd,KAAKa,CAAL,CAAjB,EAAyB;AACxBb,QAAKa,CAAL,KAAW,IAAX;AACAC;AACA,GAHD,MAGO;AACNd,QAAKa,CAAL,KAAW,GAAX;AACA;AACD;;AAED,KAAIR,KAAK,IAAIC,MAAJ,CAAW,SAASN,KAAKE,IAAL,CAAU,GAAV,CAAT,GAA0B,+BAArC,EAAsE,GAAtE,CAAT;AAAA,KACIC,UAAUC,YAAYb,SAAZ,CADd;;AAGA,UAASyB,QAAT,CAAkBT,GAAlB,EAAsB;AACrB,MAAGA,IAAIU,MAAJ,CAAW,CAAC,CAAZ,MAAmB,GAAtB,EAA2BV,OAAO,GAAP;AAC3B,SAAOJ,QAAQI,GAAR,CAAP;AACA;;AAGD,QAAO,UAASA,GAAT,EAAa;AACnB,SAAOC,OAAOD,GAAP,EAAYJ,OAAZ,CAAoBE,EAApB,EAAwBW,QAAxB,CAAP;AACA,EAFD;AAGA,CA5BiB,EAAlB;;AA8BA,SAASJ,MAAT,CAAgBM,CAAhB,EAAmBC,CAAnB,EAAqB;AACpB,QAAOD,IAAIC,CAAJ,GAAQ,CAAR,GAAY,CAAC,CAApB;AACA;;AAED,SAASf,WAAT,CAAqBL,GAArB,EAAyB;AACxB,QAAO,SAASI,OAAT,CAAiBI,GAAjB,EAAqB;AAC3B,MAAGA,IAAIa,MAAJ,CAAW,CAAX,MAAkB,GAArB,EAAyB;AACxB,OAAGb,IAAIa,MAAJ,CAAW,CAAX,MAAkB,GAAlB,IAAyBb,IAAIa,MAAJ,CAAW,CAAX,MAAkB,GAA9C,EAAkD;AACjD,WAAOzB,gBAAgB0B,SAASd,IAAIU,MAAJ,CAAW,CAAX,CAAT,EAAwB,EAAxB,CAAhB,CAAP;AACA;AACD,UAAOtB,gBAAgB0B,SAASd,IAAIU,MAAJ,CAAW,CAAX,CAAT,EAAwB,EAAxB,CAAhB,CAAP;AACA;AACD,SAAOlB,IAAIQ,IAAIe,KAAJ,CAAU,CAAV,EAAa,CAAC,CAAd,CAAJ,CAAP;AACA,EARD;AASA;;AAEDC,OAAOC,OAAP,GAAiB;AAChBC,MAAK7B,eADW;AAEhB8B,OAAMjB,UAFU;AAGhBkB,aAAY7B;AAHI,CAAjB","sourcesContent":["var entityMap = require(\"../maps/entities.json\"),\n    legacyMap = require(\"../maps/legacy.json\"),\n    xmlMap    = require(\"../maps/xml.json\"),\n    decodeCodePoint = require(\"./decode_codepoint.js\");\n\nvar decodeXMLStrict  = getStrictDecoder(xmlMap),\n    decodeHTMLStrict = getStrictDecoder(entityMap);\n\nfunction getStrictDecoder(map){\n\tvar keys = Object.keys(map).join(\"|\"),\n\t    replace = getReplacer(map);\n\n\tkeys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n\n\tvar re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n\n\treturn function(str){\n\t\treturn String(str).replace(re, replace);\n\t};\n}\n\nvar decodeHTML = (function(){\n\tvar legacy = Object.keys(legacyMap)\n\t\t.sort(sorter);\n\n\tvar keys = Object.keys(entityMap)\n\t\t.sort(sorter);\n\n\tfor(var i = 0, j = 0; i < keys.length; i++){\n\t\tif(legacy[j] === keys[i]){\n\t\t\tkeys[i] += \";?\";\n\t\t\tj++;\n\t\t} else {\n\t\t\tkeys[i] += \";\";\n\t\t}\n\t}\n\n\tvar re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\"),\n\t    replace = getReplacer(entityMap);\n\n\tfunction replacer(str){\n\t\tif(str.substr(-1) !== \";\") str += \";\";\n\t\treturn replace(str);\n\t}\n\n\t//TODO consider creating a merged map\n\treturn function(str){\n\t\treturn String(str).replace(re, replacer);\n\t};\n}());\n\nfunction sorter(a, b){\n\treturn a < b ? 1 : -1;\n}\n\nfunction getReplacer(map){\n\treturn function replace(str){\n\t\tif(str.charAt(1) === \"#\"){\n\t\t\tif(str.charAt(2) === \"X\" || str.charAt(2) === \"x\"){\n\t\t\t\treturn decodeCodePoint(parseInt(str.substr(3), 16));\n\t\t\t}\n\t\t\treturn decodeCodePoint(parseInt(str.substr(2), 10));\n\t\t}\n\t\treturn map[str.slice(1, -1)];\n\t};\n}\n\nmodule.exports = {\n\tXML: decodeXMLStrict,\n\tHTML: decodeHTML,\n\tHTMLStrict: decodeHTMLStrict\n};"]}]