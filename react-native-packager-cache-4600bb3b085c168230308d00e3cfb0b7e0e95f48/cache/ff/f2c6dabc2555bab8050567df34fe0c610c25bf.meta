["1225061dece6fdf9843307e9565336c3d965d791","183b407a8a84c8c5178d05b345e0876842b5a011",["./types","axios"],[110,144],{"version":3,"sources":["/home/ziddi/Desktop/Bhupesh/venders/src/actions/SynProducts.js"],"names":["Sync","isSyncingProducts","type","syncedProducts","data","payload","syncedProductsError","dataArray","date","count","dispatch","getState","console","log","sessionID","auth","value","user","name_value_list","user_id","String","post","then","response","catch","error","status","request"],"mappings":";;;QA2BgBA,I,GAAAA,I;;AA3BhB;;AAKA;;;;AAEA,SAASC,iBAAT,GAA6B;AACzB,WAAM;AACFC;AADE,KAAN;AAGH;;AAED,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AAC1B,WAAM;AACFF,oCADE;AAEFG,iBAAUD;AAFR,KAAN;AAIH;;AAED,SAASE,mBAAT,GAA+B;AAC3B,WAAO;AACHJ;AADG,KAAP;AAGH;;AAGM,SAASF,IAAT,CAAcO,SAAd,EAAyBC,IAAzB,EAA+BC,KAA/B,EAAqC;AACxC,WAAO,UAACC,QAAD,EAAYC,QAAZ,EAAyB;AAC5BC,gBAAQC,GAAR,CAAY,eAAZ;AACAH,iBAAST,mBAAT;AACAW,gBAAQC,GAAR,CAAY,aAAZ;AACAD,gBAAQC,GAAR,CAAY,MAAZ,EAAmBL,IAAnB;;AAGAI,gBAAQC,GAAR,CAAYJ,KAAZ;AAP4B,YAQrBK,SARqB,GAQRH,WAAWI,IARH,CAQrBD,SARqB;AAAA,YASiBE,KATjB,GAS8BL,WAAWI,IATzC,CASrBE,IATqB,CASbC,eATa,CASMC,OATN,CASiBH,KATjB;;AAU5B,YAAMZ,OAAM;;AAEV,4BAAcU,SAFJ;AAGV,4BAAcE,KAHJ;AAIhB,+BAAkB,CACd;AACI,wBAAQ,MADZ;AAEI,yBAAS,cAASR,IAAT;AAFb,aADc,EAKd;AACI,wBAAQ,cADZ;AAEI,yBAAS;AAFb,aALc,EASd;AACI,wBAAQ,eADZ;AAEI,yBAASY,OAAOX,KAAP;AAFb,aATc,EAad;AACI,wBAAQ,UADZ;AAEI,8BAAYD;AAFhB,aAbc,EAiBd;AACI,wBAAQ,QADZ;AAEI,yBAAS;AAFb,aAjBc,CAJF;AA2BhB,wCAA4BD;AA3BZ,SAAZ;;AA8BNK,gBAAQC,GAAR,CAAYT,IAAZ;;AAIM,eAAO,gBAAMiB,IAAN,qEAA+EjB,IAA/E,EACFkB,IADE,CACG,UAACC,QAAD,EAAc;AAChBX,oBAAQC,GAAR,CAAYU,SAASnB,IAArB;AACAM,qBAASP,eAAeoB,QAAf,CAAT;AACH,SAJE,EAKFC,KALE,CAKI,UAACC,KAAD,EAAW;AACd,gBAAIA,MAAMF,QAAV,EAAoB;AAChB,oBAAIE,MAAMF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;;AAE/BhB,6BAASJ,qBAAT;AACAM,4BAAQC,GAAR,CAAYY,KAAZ;AACH;AACJ,aAND,MAOK,IAAIA,MAAME,OAAV,EAAmB;AACpBf,wBAAQC,GAAR,CAAYY,KAAZ;AACAf,yBAASJ,qBAAT;AACH,aAHI,MAGE;AACHM,wBAAQC,GAAR,CAAYY,KAAZ;AACAf,yBAASJ,qBAAT;AACH;AACJ,SApBE,CAAP;AAqBH,KAjED;AAkEH","sourcesContent":["import {\n    SYNCING_PRODUCTS,\n    SYNCED_PRODUCTS,\n    ERROR_SYNCING_PRODUCTS\n} from './types'\nimport axios from 'axios';\n\nfunction isSyncingProducts() {\n    return{\n        type : SYNCING_PRODUCTS\n    }\n}\n\nfunction syncedProducts(data) {\n    return{\n        type : SYNCED_PRODUCTS,\n        payload : data\n    }\n}\n\nfunction syncedProductsError() {\n    return {\n        type : ERROR_SYNCING_PRODUCTS\n    }\n}\n\n\nexport function Sync(dataArray, date, count){\n    return (dispatch , getState) => {\n        console.log(\"inside_Sync 1\");\n        dispatch(isSyncingProducts());\n        console.log(\"inside Sync\");\n        console.log(\"date\",date);\n\n\n        console.log(count);\n        const {sessionID} = getState().auth\n        const {user : {name_value_list : {user_id : {value}}} } = getState().auth;\n        const data ={\n\n          \"session\": `${sessionID}`,\n          \"user_id\": `${value}`,\n    \"name_value_list\":[\n        {\n            \"name\": \"name\",\n            \"value\": \"af_\"+`${date}`\n        },\n        {\n            \"name\": \"account_id_c\",\n            \"value\": \"515f3931-fb4b-36f3-3f5a-570bd865a87b\"\n        },\n        {\n            \"name\": \"total_shoes_c\",\n            \"value\": String(count)\n        },\n        {\n            \"name\": \"date_rec\",\n            \"value\": `${date}`\n        },\n        {\n            \"name\": \"status\",\n            \"value\": \"in-dispatch\"\n        }\n\n    ],\n    \"name_value_list_relation\": dataArray\n  }\n\n  console.log(data);\n\n\n\n        return axios.post(`http://crm.streetstylestore.com/webservice/setShoefromvendor.php`, data)\n            .then((response) => {\n                console.log(response.data)\n                dispatch(syncedProducts(response));\n            })\n            .catch((error) => {\n                if (error.response) {\n                    if (error.response.status === 401) {\n\n                        dispatch(syncedProductsError());\n                        console.log(error);\n                    }\n                }\n                else if (error.request) {\n                    console.log(error)\n                    dispatch(syncedProductsError());\n                } else {\n                    console.log(error)\n                    dispatch(syncedProductsError());\n                }\n            })\n    }\n}\n"]}]