["9f1fc7d0145366d367b3814c80975c2e278d8b63","010df58112975801383da133d90593773653fec0",["react-native","./NavigationPropTypes","./Reducer/NavigationScenesReducer","react","fbjs/lib/invariant"],[59,106,164,228,286,321,368,415],{"version":3,"sources":["/home/ziddi/Desktop/Bhupesh/venders/node_modules/react-native-navigation-experimental-compat/src/NavigationTransitioner.js"],"names":["Animated","require","Easing","NavigationPropTypes","NavigationScenesReducer","React","StyleSheet","View","invariant","PropTypes","DefaultTransitionSpec","duration","easing","inOut","ease","timing","NavigationTransitioner","props","context","layout","height","Value","initHeight","initWidth","isMeasured","width","state","position","navigationState","index","progress","scenes","_prevTransitionProps","_transitionProps","buildTransitionProps","_isMounted","_onLayout","bind","_onTransitionEnd","nextProps","nextScenes","nextState","setValue","transitionUserSpec","configureTransition","transitionSpec","animations","toValue","push","setState","onTransitionStart","parallel","start","styles","main","style","render","event","nativeEvent","prevTransitionProps","filter","isSceneNotStale","onTransitionEnd","Component","propTypes","func","isRequired","scene","find","isSceneActive","isStale","isActive","create","flex","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nconst Animated = require('react-native').Animated;\nconst Easing = require('react-native').Easing;\nconst NavigationPropTypes = require('./NavigationPropTypes');\nconst NavigationScenesReducer = require('./Reducer/NavigationScenesReducer');\nconst React = require('react');\nconst StyleSheet = require('react-native').StyleSheet;\nconst View = require('react-native').View;\n\nconst invariant = require('fbjs/lib/invariant');\n\nimport type {\n  NavigationAnimatedValue,\n  NavigationLayout,\n  NavigationScene,\n  NavigationState,\n  NavigationTransitionProps,\n  NavigationTransitionSpec,\n} from './NavigationTypeDefinition';\n\ntype Props = {\n  configureTransition: (\n    a: NavigationTransitionProps,\n    b: ?NavigationTransitionProps,\n  ) => NavigationTransitionSpec,\n  navigationState: NavigationState,\n  onTransitionEnd: () => void,\n  onTransitionStart: () => void,\n  render: (a: NavigationTransitionProps, b: ?NavigationTransitionProps) => any,\n  style: any,\n};\n\ntype State = {\n  layout: NavigationLayout,\n  position: NavigationAnimatedValue,\n  progress: NavigationAnimatedValue,\n  scenes: Array<NavigationScene>,\n};\n\nconst {PropTypes} = React;\n\nconst DefaultTransitionSpec = {\n  duration: 250,\n  easing: Easing.inOut(Easing.ease),\n  timing: Animated.timing,\n};\n\nclass NavigationTransitioner extends React.Component<any, Props, State> {\n  _onLayout: (event: any) => void;\n  _onTransitionEnd: () => void;\n  _prevTransitionProps: ?NavigationTransitionProps;\n  _transitionProps: NavigationTransitionProps;\n  _isMounted: boolean;\n\n  props: Props;\n  state: State;\n\n  static propTypes = {\n    configureTransition: PropTypes.func,\n    navigationState: NavigationPropTypes.navigationState.isRequired,\n    onTransitionEnd: PropTypes.func,\n    onTransitionStart: PropTypes.func,\n    render: PropTypes.func.isRequired,\n  };\n\n  constructor(props: Props, context: any) {\n    super(props, context);\n\n    // The initial layout isn't measured. Measured layout will be only available\n    // when the component is mounted.\n    const layout = {\n      height: new Animated.Value(0),\n      initHeight: 0,\n      initWidth: 0,\n      isMeasured: false,\n      width: new Animated.Value(0),\n    };\n\n    this.state = {\n      layout,\n      position: new Animated.Value(this.props.navigationState.index),\n      progress: new Animated.Value(1),\n      scenes: NavigationScenesReducer([], this.props.navigationState),\n    };\n\n    this._prevTransitionProps = null;\n    this._transitionProps = buildTransitionProps(props, this.state);\n    this._isMounted = false;\n  }\n\n  componentWillMount(): void {\n    this._onLayout = this._onLayout.bind(this);\n    this._onTransitionEnd = this._onTransitionEnd.bind(this);\n  }\n\n  componentDidMount(): void {\n    this._isMounted = true;\n  }\n\n  componentWillUnmount(): void {\n    this._isMounted = false;\n  }\n\n  componentWillReceiveProps(nextProps: Props): void {\n    const nextScenes = NavigationScenesReducer(\n      this.state.scenes,\n      nextProps.navigationState,\n      this.props.navigationState\n    );\n\n    if (nextScenes === this.state.scenes) {\n      return;\n    }\n\n    const nextState = {\n      ...this.state,\n      scenes: nextScenes,\n    };\n\n    const {\n      position,\n      progress,\n    } = nextState;\n\n    progress.setValue(0);\n\n    this._prevTransitionProps = this._transitionProps;\n    this._transitionProps = buildTransitionProps(nextProps, nextState);\n\n    // get the transition spec.\n    const transitionUserSpec = nextProps.configureTransition ?\n      nextProps.configureTransition(\n        this._transitionProps,\n        this._prevTransitionProps,\n      ) :\n      null;\n\n    const transitionSpec = {\n      ...DefaultTransitionSpec,\n      ...transitionUserSpec,\n    };\n\n    const {timing} = transitionSpec;\n    delete transitionSpec.timing;\n\n    const animations = [\n      timing(\n        progress,\n        {\n          ...transitionSpec,\n          toValue: 1,\n        },\n      ),\n    ];\n\n    if (nextProps.navigationState.index !== this.props.navigationState.index) {\n      animations.push(\n        timing(\n          position,\n          {\n            ...transitionSpec,\n            toValue: nextProps.navigationState.index,\n          },\n        ),\n      );\n    }\n\n    // update scenes and play the transition\n    this.setState(nextState, () => {\n      nextProps.onTransitionStart && nextProps.onTransitionStart(\n        this._transitionProps,\n        this._prevTransitionProps,\n      );\n      Animated.parallel(animations).start(this._onTransitionEnd);\n    });\n  }\n\n  render(): React.Element<any> {\n    return (\n      <View\n        onLayout={this._onLayout}\n        style={[styles.main, this.props.style]}>\n        {this.props.render(this._transitionProps, this._prevTransitionProps)}\n      </View>\n    );\n  }\n\n  _onLayout(event: any): void {\n    const {height, width} = event.nativeEvent.layout;\n    if (this.state.layout.initWidth === width &&\n      this.state.layout.initHeight === height) {\n      return;\n    }\n    const layout = {\n      ...this.state.layout,\n      initHeight: height,\n      initWidth: width,\n      isMeasured: true,\n    };\n\n    layout.height.setValue(height);\n    layout.width.setValue(width);\n\n    const nextState = {\n      ...this.state,\n      layout,\n    };\n\n    this._transitionProps = buildTransitionProps(this.props, nextState);\n    this.setState(nextState);\n  }\n\n  _onTransitionEnd(): void {\n    if (!this._isMounted) {\n      return;\n    }\n\n    const prevTransitionProps = this._prevTransitionProps;\n    this._prevTransitionProps = null;\n\n    const nextState = {\n      ...this.state,\n      scenes: this.state.scenes.filter(isSceneNotStale),\n    };\n\n    this._transitionProps = buildTransitionProps(this.props, nextState);\n\n    this.setState(nextState, () => {\n      this.props.onTransitionEnd && this.props.onTransitionEnd(\n        this._transitionProps,\n        prevTransitionProps,\n      );\n    });\n  }\n}\n\nfunction buildTransitionProps(\n  props: Props,\n  state: State,\n): NavigationTransitionProps {\n  const {\n    navigationState,\n  } = props;\n\n  const {\n    layout,\n    position,\n    progress,\n    scenes,\n  } = state;\n\n  const scene = scenes.find(isSceneActive);\n\n  invariant(scene, 'No active scene when building navigation transition props.');\n\n  return {\n    layout,\n    navigationState,\n    position,\n    progress,\n    scenes,\n    scene\n  };\n}\n\nfunction isSceneNotStale(scene: NavigationScene): boolean {\n  return !scene.isStale;\n}\n\nfunction isSceneActive(scene: NavigationScene): boolean {\n  return scene.isActive;\n}\n\nconst styles = StyleSheet.create({\n  main: {\n    flex: 1,\n  },\n});\n\nmodule.exports = NavigationTransitioner;\n"]}]