["1520b3ddd62c1160ed098cc2f3d6530162b09510","5610222a3676af679a999eb362a7add6fd283f0a",["domelementtype"],[26],{"version":3,"sources":["/home/ziddi/Desktop/Bhupesh/venders/node_modules/domutils/lib/legacy.js"],"names":["ElementType","require","isTag","exports","testElement","options","element","key","hasOwnProperty","tag_name","name","tag_type","type","tag_contains","data","attribs","Checks","elem","getAttribCheck","attrib","value","combineFuncs","a","b","getElements","recurse","limit","funcs","Object","keys","map","length","filter","reduce","getElementById","id","Array","isArray","findOne","getElementsByTagName","getElementsByTagType"],"mappings":"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","sourcesContent":["var ElementType = require(\"domelementtype\");\nvar isTag = exports.isTag = ElementType.isTag;\n\nexports.testElement = function(options, element){\n\tfor(var key in options){\n\t\tif(!options.hasOwnProperty(key));\n\t\telse if(key === \"tag_name\"){\n\t\t\tif(!isTag(element) || !options.tag_name(element.name)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(key === \"tag_type\"){\n\t\t\tif(!options.tag_type(element.type)) return false;\n\t\t} else if(key === \"tag_contains\"){\n\t\t\tif(isTag(element) || !options.tag_contains(element.data)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(!element.attribs || !options[key](element.attribs[key])){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nvar Checks = {\n\ttag_name: function(name){\n\t\tif(typeof name === \"function\"){\n\t\t\treturn function(elem){ return isTag(elem) && name(elem.name); };\n\t\t} else if(name === \"*\"){\n\t\t\treturn isTag;\n\t\t} else {\n\t\t\treturn function(elem){ return isTag(elem) && elem.name === name; };\n\t\t}\n\t},\n\ttag_type: function(type){\n\t\tif(typeof type === \"function\"){\n\t\t\treturn function(elem){ return type(elem.type); };\n\t\t} else {\n\t\t\treturn function(elem){ return elem.type === type; };\n\t\t}\n\t},\n\ttag_contains: function(data){\n\t\tif(typeof data === \"function\"){\n\t\t\treturn function(elem){ return !isTag(elem) && data(elem.data); };\n\t\t} else {\n\t\t\treturn function(elem){ return !isTag(elem) && elem.data === data; };\n\t\t}\n\t}\n};\n\nfunction getAttribCheck(attrib, value){\n\tif(typeof value === \"function\"){\n\t\treturn function(elem){ return elem.attribs && value(elem.attribs[attrib]); };\n\t} else {\n\t\treturn function(elem){ return elem.attribs && elem.attribs[attrib] === value; };\n\t}\n}\n\nfunction combineFuncs(a, b){\n\treturn function(elem){\n\t\treturn a(elem) || b(elem);\n\t};\n}\n\nexports.getElements = function(options, element, recurse, limit){\n\tvar funcs = Object.keys(options).map(function(key){\n\t\tvar value = options[key];\n\t\treturn key in Checks ? Checks[key](value) : getAttribCheck(key, value);\n\t});\n\n\treturn funcs.length === 0 ? [] : this.filter(\n\t\tfuncs.reduce(combineFuncs),\n\t\telement, recurse, limit\n\t);\n};\n\nexports.getElementById = function(id, element, recurse){\n\tif(!Array.isArray(element)) element = [element];\n\treturn this.findOne(getAttribCheck(\"id\", id), element, recurse !== false);\n};\n\nexports.getElementsByTagName = function(name, element, recurse, limit){\n\treturn this.filter(Checks.tag_name(name), element, recurse, limit);\n};\n\nexports.getElementsByTagType = function(type, element, recurse, limit){\n\treturn this.filter(Checks.tag_type(type), element, recurse, limit);\n};\n"]}]