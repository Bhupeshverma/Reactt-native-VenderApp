["c17c214487e9db43f4b790b3571f14da5dfe0c58","52555cc42fcca905b425d4adef16bd846b58b5c4",["../utils/setImmediate"],[2089],{"version":3,"sources":["/home/ziddi/Desktop/venders/node_modules/redux-persist/lib/defaults/asyncLocalStorage.js"],"names":["exports","__esModule","_typeof","Symbol","iterator","obj","constructor","prototype","default","type","config","storage","getStorage","getAllKeys","cb","Promise","resolve","reject","keys","i","length","push","key","_setImmediate2","e","getItem","s","setItem","string","removeItem","_setImmediate","require","_interopRequireDefault","noStorage","process","env","NODE_ENV","console","error","_hasStorage","storageType","window","testKey","warn","hasLocalStorage","hasSessionStorage","localStorage","sessionStorage"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function (type, config) {\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n          (0, _setImmediate2.default)(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          (0, _setImmediate2.default)(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          (0, _setImmediate2.default)(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          (0, _setImmediate2.default)(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n};\n\nvar _setImmediate = require('../utils/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar noStorage = function noStorage() {\n  /* noop */return null;\n};\nif (process.env.NODE_ENV !== 'production') {\n  noStorage = function noStorage() {\n    console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n    return null;\n  };\n}\n\nfunction _hasStorage(storageType) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(storageType in window)) {\n    return false;\n  }\n\n  try {\n    var storage = window[storageType];\n    var testKey = 'redux-persist ' + storageType + ' test';\n    storage.setItem(testKey, 'test');\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist ' + storageType + ' test failed, persistence will be disabled.');\n    return false;\n  }\n  return true;\n}\n\nfunction hasLocalStorage() {\n  return _hasStorage('localStorage');\n}\n\nfunction hasSessionStorage() {\n  return _hasStorage('sessionStorage');\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n}"]}]