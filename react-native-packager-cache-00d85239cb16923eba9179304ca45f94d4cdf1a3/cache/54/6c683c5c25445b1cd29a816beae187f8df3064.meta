["81ce2b32a30786cbd2f7d269d906917b99f7733b","445f7c4d813182b9aa20e6a84789a5bfa16ca310",["lodash/mapValues"],[879],{"version":3,"sources":["/home/ziddi/Desktop/venders/node_modules/remotedev-utils/lib/filters.js"],"names":["exports","__esModule","FilterState","undefined","_typeof","Symbol","iterator","obj","constructor","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","arrToRegex","getLocalFilter","isFiltered","filterStagedActions","filterState","_mapValues","require","_mapValues2","_interopRequireDefault","default","DO_NOT_FILTER","BLACKLIST_SPECIFIC","WHITELIST_SPECIFIC","v","join","filterActions","actionsById","actionsFilter","action","id","filterStates","computedStates","statesFilter","map","state","idx","config","actionsBlacklist","actionsWhitelist","whitelist","blacklist","getDevToolsOptions","window","devToolsOptions","localFilter","_ref","type","opts","filter","match","_ref2","filters","filteredStagedActionIds","filteredComputedStates","stagedActionIds","forEach","push","stateSanitizer","actionSanitizer","nextActionId","predicate","_getDevToolsOptions","_ret","sanitizedActionsById","liftedAction","currAction","liftedState","currState"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.FilterState = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.arrToRegex = arrToRegex;\nexports.getLocalFilter = getLocalFilter;\nexports.isFiltered = isFiltered;\nexports.filterStagedActions = filterStagedActions;\nexports.filterState = filterState;\n\nvar _mapValues = require('lodash/mapValues');\n\nvar _mapValues2 = _interopRequireDefault(_mapValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FilterState = exports.FilterState = {\n  DO_NOT_FILTER: 'DO_NOT_FILTER',\n  BLACKLIST_SPECIFIC: 'BLACKLIST_SPECIFIC',\n  WHITELIST_SPECIFIC: 'WHITELIST_SPECIFIC'\n};\n\nfunction arrToRegex(v) {\n  return typeof v === 'string' ? v : v.join('|');\n}\n\nfunction filterActions(actionsById, actionsFilter) {\n  if (!actionsFilter) return actionsById;\n  return (0, _mapValues2.default)(actionsById, function (action, id) {\n    return _extends({}, action, { action: actionsFilter(action.action, id) });\n  });\n}\n\nfunction filterStates(computedStates, statesFilter) {\n  if (!statesFilter) return computedStates;\n  return computedStates.map(function (state, idx) {\n    return _extends({}, state, { state: statesFilter(state.state, idx) });\n  });\n}\n\nfunction getLocalFilter(config) {\n  if (config.actionsBlacklist || config.actionsWhitelist) {\n    return {\n      whitelist: config.actionsWhitelist && config.actionsWhitelist.join('|'),\n      blacklist: config.actionsBlacklist && config.actionsBlacklist.join('|')\n    };\n  }\n  return undefined;\n}\n\nfunction getDevToolsOptions() {\n  return typeof window !== 'undefined' && window.devToolsOptions || {};\n}\n\nfunction isFiltered(action, localFilter) {\n  var _ref = action.action || action;\n\n  var type = _ref.type;\n\n  var opts = getDevToolsOptions();\n  if (!localFilter && opts.filter && opts.filter === FilterState.DO_NOT_FILTER || type && typeof type.match !== 'function') return false;\n\n  var _ref2 = localFilter || opts;\n\n  var whitelist = _ref2.whitelist;\n  var blacklist = _ref2.blacklist;\n\n  return whitelist && !type.match(whitelist) || blacklist && type.match(blacklist);\n}\n\nfunction filterStagedActions(state, filters) {\n  if (!filters) return state;\n\n  var filteredStagedActionIds = [];\n  var filteredComputedStates = [];\n\n  state.stagedActionIds.forEach(function (id, idx) {\n    if (!isFiltered(state.actionsById[id], filters)) {\n      filteredStagedActionIds.push(id);\n      filteredComputedStates.push(state.computedStates[idx]);\n    }\n  });\n\n  return _extends({}, state, {\n    stagedActionIds: filteredStagedActionIds,\n    computedStates: filteredComputedStates\n  });\n}\n\nfunction filterState(state, type, localFilter, stateSanitizer, actionSanitizer, nextActionId, predicate) {\n  if (type === 'ACTION') return !stateSanitizer ? state : stateSanitizer(state, nextActionId - 1);else if (type !== 'STATE') return state;\n\n  var _getDevToolsOptions = getDevToolsOptions();\n\n  var filter = _getDevToolsOptions.filter;\n\n  if (predicate || localFilter || filter && filter !== FilterState.DO_NOT_FILTER) {\n    var _ret = function () {\n      var filteredStagedActionIds = [];\n      var filteredComputedStates = [];\n      var sanitizedActionsById = actionSanitizer && {};\n      var actionsById = state.actionsById;\n      var computedStates = state.computedStates;\n\n\n      state.stagedActionIds.forEach(function (id, idx) {\n        var liftedAction = actionsById[id];\n        var currAction = liftedAction.action;\n        var liftedState = computedStates[idx];\n        var currState = liftedState.state;\n        if (idx) {\n          if (predicate && !predicate(currState, currAction)) return;\n          if (isFiltered(currAction, localFilter)) return;\n        }\n\n        filteredStagedActionIds.push(id);\n        filteredComputedStates.push(stateSanitizer ? _extends({}, liftedState, { state: stateSanitizer(currState, idx) }) : liftedState);\n        if (actionSanitizer) {\n          sanitizedActionsById[id] = _extends({}, liftedAction, { action: actionSanitizer(currAction, id)\n          });\n        }\n      });\n\n      return {\n        v: _extends({}, state, {\n          actionsById: sanitizedActionsById || actionsById,\n          stagedActionIds: filteredStagedActionIds,\n          computedStates: filteredComputedStates\n        })\n      };\n    }();\n\n    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n  }\n\n  if (!stateSanitizer && !actionSanitizer) return state;\n  return _extends({}, state, {\n    actionsById: filterActions(state.actionsById, actionSanitizer),\n    computedStates: filterStates(state.computedStates, stateSanitizer)\n  });\n}"]}]