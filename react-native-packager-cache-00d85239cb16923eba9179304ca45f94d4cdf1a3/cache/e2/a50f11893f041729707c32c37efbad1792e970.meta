["4c97c976644ef4e66805d19dab6745977ccb16f4","81dfd9b1dbf505a069192554b0e35c6ee84091ac",["axios","react-native","react-native-router-flux","./types"],[126,223,278,329],{"version":3,"sources":["/home/ziddi/Desktop/venders/src/actions/ProductActions.js"],"names":["fetchProducts","isFetchingProducts","type","recievedProducts","data","payload","recievedProductsError","dispatch","getState","sessionID","auth","value","user","name_value_list","user_id","console","log","post","then","response","status","catch","error","request"],"mappings":";;;QA2BgBA,a,GAAAA,a;;AA3BhB;;;;AACA;;AACA;;AACA;;AAMA,SAASC,kBAAT,GAA8B;AAC5B,SAAM;AACJC;AADI,GAAN;AAGD;;AAED,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;AAC5B,SAAM;AACJF,iCADI;AAEJG,aAAUD;AAFN,GAAN;AAIH;;AAED,SAASE,qBAAT,GAAiC;AAC/B,SAAO;AACLJ;AADK,GAAP;AAGD;AACM,SAASF,aAAT,GAA0B;AAChC,SAAO,UAACO,QAAD,EAAYC,QAAZ,EAAyB;;AAE9BD,aAASN,oBAAT;;AAF8B,QAIvBQ,SAJuB,GAIVD,WAAWE,IAJD,CAIvBD,SAJuB;AAAA,QAKeE,KALf,GAK4BH,WAAWE,IALvC,CAKvBE,IALuB,CAKfC,eALe,CAKIC,OALJ,CAKeH,KALf;;;AAQ9B,QAAMP,OAAQ;AACjB,sBAAcK,SADG;AAEjB,sBAAcE,KAFG;AAGV,qBAAe;AAHL,KAAd;;AAMAI,YAAQC,GAAR,CAAYZ,IAAZ;AACC,WAAO,gBAAMa,IAAN,gFAA0Fb,IAA1F,EACPc,IADO,CACF,UAACC,QAAD,EAAc;AAClBJ,cAAQC,GAAR,CAAYG,SAASC,MAArB;AACAb,eAASJ,iBAAiBgB,QAAjB,CAAT;AACD,KAJO,EAKPE,KALO,CAKD,UAACC,KAAD,EAAW;AAChB,UAAIA,MAAMH,QAAV,EAAoB;AAClB,YAAIG,MAAMH,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;AACjCb,mBAASD,uBAAT;AACD;AACF,OAJD,MAKK,IAAIgB,MAAMC,OAAV,EAAmB;AACtBR,gBAAQC,GAAR,CAAYM,KAAZ;AACAf,iBAASD,uBAAT;AACD,OAHI,MAGE;AACLS,gBAAQC,GAAR,CAAYM,KAAZ;AACAf,iBAASD,uBAAT;AACD;AACF,KAlBO,CAAP;AAmBF,GAlCD;AAoCA","sourcesContent":["import axios from 'axios';\nimport {AsyncStorage} from 'react-native';\nimport { Actions } from 'react-native-router-flux';\nimport {\n  FETCH_PRODUCTS,\n  FETCHED_PRODUCTS,\n  ERROR_RECIEVING_PRODUCTS,\n} from './types';\n\nfunction isFetchingProducts() {\n  return{\n    type : FETCH_PRODUCTS\n  }\n}\n\nfunction recievedProducts(data) {\n    return{\n      type : FETCHED_PRODUCTS,\n      payload : data\n    }\n}\n\nfunction recievedProductsError() {\n  return {\n    type : ERROR_RECIEVING_PRODUCTS\n  }\n}\nexport function fetchProducts( ) {\n return (dispatch , getState) => {\n\n   dispatch(isFetchingProducts());\n\n   const {sessionID} = getState().auth\n   const {user : {name_value_list : {user_id : {value}}} } = getState().auth;\n\n\n   const data =  {\n\"session\": `${sessionID}`,\n\"user_id\": `${value}`,\n       \"vender_type\": \"Shoes\"\n}\n\n   console.log(data);\n    return axios.post(`http://crm-dev.streetstylestore.com/webservice/get_missing_product_item.php`, data)\n   .then((response) => {\n     console.log(response.status)\n     dispatch(recievedProducts(response));\n   })\n   .catch((error) => {\n     if (error.response) {\n       if (error.response.status === 401) {\n         dispatch(recievedProductsError());\n       }\n     }\n     else if (error.request) {\n       console.log(error)\n       dispatch(recievedProductsError());\n     } else {\n       console.log(error)\n       dispatch(recievedProductsError());\n     }\n   })\n }\n\n}\n"]}]