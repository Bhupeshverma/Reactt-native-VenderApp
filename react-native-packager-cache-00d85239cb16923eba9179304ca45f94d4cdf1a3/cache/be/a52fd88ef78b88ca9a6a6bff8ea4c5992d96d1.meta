["55aea416cf4aeec2209a86c51a9f8e2e7308273c","5dd2e35f327cb1c906608458a0b2642058291f71",["./constants","./getStoredState","./createPersistor","./utils/setImmediate"],[390,437,555,673],{"version":3,"sources":["/home/ziddi/Desktop/venders/node_modules/redux-persist/lib/persistStore.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","default","persistStore","_constants","require","_getStoredState","_getStoredState2","_interopRequireDefault","_createPersistor","_createPersistor2","_setImmediate","_setImmediate2","obj","store","config","undefined","onComplete","shouldRestore","skipRestore","process","env","NODE_ENV","console","warn","purgeKeys","persistor","pause","err","restoredState","complete","forEach","dispatch","rehydrateAction","resume","purge","keys","payload","error","type","REHYDRATE"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = persistStore;\n\nvar _constants = require('./constants');\n\nvar _getStoredState = require('./getStoredState');\n\nvar _getStoredState2 = _interopRequireDefault(_getStoredState);\n\nvar _createPersistor = require('./createPersistor');\n\nvar _createPersistor2 = _interopRequireDefault(_createPersistor);\n\nvar _setImmediate = require('./utils/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction persistStore(store) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var onComplete = arguments[2];\n\n  // defaults\n  // @TODO remove shouldRestore\n  var shouldRestore = !config.skipRestore;\n  if (process.env.NODE_ENV !== 'production' && config.skipRestore) console.warn('redux-persist: config.skipRestore has been deprecated. If you want to skip restoration use `createPersistor` instead');\n\n  var purgeKeys = null;\n\n  // create and pause persistor\n  var persistor = (0, _createPersistor2.default)(store, config);\n  persistor.pause();\n\n  // restore\n  if (shouldRestore) {\n    (0, _setImmediate2.default)(function () {\n      (0, _getStoredState2.default)(config, function (err, restoredState) {\n        if (err) {\n          complete(err);\n          return;\n        }\n        // do not persist state for purgeKeys\n        if (purgeKeys) {\n          if (purgeKeys === '*') restoredState = {};else purgeKeys.forEach(function (key) {\n            return delete restoredState[key];\n          });\n        }\n        try {\n          store.dispatch(rehydrateAction(restoredState, err));\n        } finally {\n          complete(err, restoredState);\n        }\n      });\n    });\n  } else (0, _setImmediate2.default)(complete);\n\n  function complete(err, restoredState) {\n    persistor.resume();\n    onComplete && onComplete(err, restoredState);\n  }\n\n  return _extends({}, persistor, {\n    purge: function purge(keys) {\n      purgeKeys = keys || '*';\n      return persistor.purge(keys);\n    }\n  });\n}\n\nfunction rehydrateAction(payload) {\n  var error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  return {\n    type: _constants.REHYDRATE,\n    payload: payload,\n    error: error\n  };\n}"]}]