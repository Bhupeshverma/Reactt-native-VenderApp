["ee6ff807bbbe321398ca48bd875211905f38dae3","534765faeb4dbcb45d36f3b6004bf6cf7b080ab4",["flux-standard-action"],[407],{"version":3,"sources":["/home/ziddi/Desktop/venders/node_modules/redux-promise/lib/index.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","promiseMiddleware","_fluxStandardAction","require","isPromise","val","then","_ref","dispatch","next","action","isFSA","payload","result","error","module"],"mappings":"AAAA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;;AAEA,IAAIC,WAAWC,OAAOC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIC,UAAUC,MAA9B,EAAsCF,GAAtC,EAA2C;AAAE,QAAIG,SAASF,UAAUD,CAAV,CAAb,CAA2B,KAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,OAAOQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,eAAOK,GAAP,IAAcD,OAAOC,GAAP,CAAd;AAA4B;AAAE;AAAE,GAAC,OAAOL,MAAP;AAAgB,CAAhQ;;AAEAL,QAAQ,SAAR,IAAqBc,iBAArB;;AAEA,IAAIC,sBAAsBC,OAAtB,wBAAJ;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAOA,OAAO,OAAOA,IAAIC,IAAX,KAAoB,UAAlC;AACD;;AAED,SAASL,iBAAT,CAA2BM,IAA3B,EAAiC;AAC/B,MAAIC,WAAWD,KAAKC,QAApB;;AAEA,SAAO,UAAUC,IAAV,EAAgB;AACrB,WAAO,UAAUC,MAAV,EAAkB;AACvB,UAAI,CAACR,oBAAoBS,KAApB,CAA0BD,MAA1B,CAAL,EAAwC;AACtC,eAAON,UAAUM,MAAV,IAAoBA,OAAOJ,IAAP,CAAYE,QAAZ,CAApB,GAA4CC,KAAKC,MAAL,CAAnD;AACD;;AAED,aAAON,UAAUM,OAAOE,OAAjB,IAA4BF,OAAOE,OAAP,CAAeN,IAAf,CAAoB,UAAUO,MAAV,EAAkB;AACvE,eAAOL,SAASnB,SAAS,EAAT,EAAaqB,MAAb,EAAqB,EAAEE,SAASC,MAAX,EAArB,CAAT,CAAP;AACD,OAFkC,EAEhC,UAAUC,KAAV,EAAiB;AAClB,eAAON,SAASnB,SAAS,EAAT,EAAaqB,MAAb,EAAqB,EAAEE,SAASE,KAAX,EAAkBA,OAAO,IAAzB,EAArB,CAAT,CAAP;AACD,OAJkC,CAA5B,GAIFL,KAAKC,MAAL,CAJL;AAKD,KAVD;AAWD,GAZD;AAaD;;AAEDK,OAAO5B,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = promiseMiddleware;\n\nvar _fluxStandardAction = require('flux-standard-action');\n\nfunction isPromise(val) {\n  return val && typeof val.then === 'function';\n}\n\nfunction promiseMiddleware(_ref) {\n  var dispatch = _ref.dispatch;\n\n  return function (next) {\n    return function (action) {\n      if (!_fluxStandardAction.isFSA(action)) {\n        return isPromise(action) ? action.then(dispatch) : next(action);\n      }\n\n      return isPromise(action.payload) ? action.payload.then(function (result) {\n        return dispatch(_extends({}, action, { payload: result }));\n      }, function (error) {\n        return dispatch(_extends({}, action, { payload: error, error: true }));\n      }) : next(action);\n    };\n  };\n}\n\nmodule.exports = exports['default'];"]}]